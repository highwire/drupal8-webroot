# casa-token-client-php
Simple API for exchange of inbound CASA token for a corresponding signed JWT.

This PHP package is automatically generated by the [Swagger Codegen](https://github.com/swagger-api/swagger-codegen) project:

- API version: 0.0.1
- Build package: io.swagger.codegen.languages.PhpClientCodegen
For more information, please visit [http://www.highwirepress.com](http://www.highwirepress.com)

## Requirements

PHP 5.5 and later

## Installation & Usage
### Composer

To install the bindings via [Composer](http://getcomposer.org/), add the following to `composer.json`:

```
{
  "repositories": [
    {
      "type": "git",
      "url": "https://github.com/highwire/casa-token-client-php.git"
    }
  ],
  "require": {
    "highwire/casa-token-client-php": "*@dev"
  }
}
```

Then run `composer install`

### Manual Installation

Download the files and include `autoload.php`:

```php
    require_once('/path/to/casa-token-client-php/vendor/autoload.php');
```

## Tests

To run the unit tests:

```
composer install
./vendor/bin/phpunit
```

## Getting Started

Please follow the [installation procedure](#installation--usage) and then run the following:

```php
<?php
require_once(__DIR__ . '/vendor/autoload.php');

$apiInstance = new CasaTokenClient\Api\TokensApi(
    // If you want use custom http client, pass your client which implements `GuzzleHttp\ClientInterface`.
    // This is optional, `GuzzleHttp\Client` will be used as default.
    new GuzzleHttp\Client()
);
$context = "\"sgrworks\""; // string | The application context for this service, eg, <em>sgrworks</em>. A single publisher may have more than one application (or set of applications like JCore) using a platform service like Personalization and so the <strong>context</strong> semantic scopes the service data in a way that the calling application can control.
$subnet = "\"98.234.179.0/20\""; // string | In order to protect users' privacy, Google does not send the specific address the user was seen on campus but instead they send an address range. The range could be either IPv4 or IPv6 although as a practical matter, we'll only see v4 until we include v6 addresses in the Subscriber Links data we send to Google.
$subscriber = "\"http://www.springerpub.com/google/casa/TestOrg01\""; // string | Subscriber ID, usually an organization.
$ttl = "\"1 minute\""; // string | Used to establish token's expiration time.
$now = new \DateTime("\"2019-09-25T17:31:00Z\""); // \DateTime | A date-time to use as the current time in place of actual time.

try {
    $result = $apiInstance->getCasaToken($context, $subnet, $subscriber, $ttl, $now);
    print_r($result);
} catch (Exception $e) {
    echo 'Exception when calling TokensApi->getCasaToken: ', $e->getMessage(), PHP_EOL;
}

?>
```

## Documentation for API Endpoints

All URIs are relative to *https://fr-docker-host-dev-01.highwire.org:9004*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*TokensApi* | [**getCasaToken**](docs/Api/TokensApi.md#getcasatoken) | **GET** /api/casa/tokens/{context} | Create a CASA token to be used as a casa_token
*ValidationApi* | [**getCasaValidation**](docs/Api/ValidationApi.md#getcasavalidation) | **GET** /api/casa/validation/{context} | Redeem a casa_token for a Voucher)
*VouchersApi* | [**getCasaVoucher**](docs/Api/VouchersApi.md#getcasavoucher) | **GET** /api/casa/vouchers/{context} | Redeem a CASA token for a voucher)


## Documentation For Models

 - [ResponseData](docs/Model/ResponseData.md)
 - [SetCookie](docs/Model/SetCookie.md)


## Documentation For Authorization

 All endpoints do not require authorization.


## Author

cjurney@highwirepress.com


